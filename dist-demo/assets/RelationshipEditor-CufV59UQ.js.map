{"version":3,"file":"RelationshipEditor-CufV59UQ.js","sources":["../../src/components/Editor/RelationshipEditor.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nexport interface Family {\n    id: string;\n    parents?: string[];\n    children?: string[];\n    marriageDate?: any; // Parsed date object with original, iso, etc.\n}\n\nexport interface Individual {\n    id: string;\n    name: string;\n}\n\nexport interface RelationshipEditorProps {\n    family: Family;\n    individuals: Individual[];\n    onSave: (updatedFamily: Family) => void;\n    onCancel: () => void;\n}\n\nconst RelationshipEditor: React.FC<RelationshipEditorProps> = ({ \n    family, \n    individuals,\n    onSave, \n    onCancel \n}) => {\n    const [parents, setParents] = useState<string[]>(family.parents || []);\n    const [children, setChildren] = useState<string[]>(family.children || []);\n    const [marriageDate, setMarriageDate] = useState(\n        family.marriageDate?.iso || family.marriageDate?.original || ''\n    );\n\n    const handleSave = () => {\n        onSave({\n            ...family,\n            parents,\n            children,\n            marriageDate: marriageDate ? { original: marriageDate, iso: marriageDate } : undefined\n        });\n    };\n\n    const addParent = (personId: string) => {\n        if (personId && !parents.includes(personId)) {\n            setParents([...parents, personId]);\n        }\n    };\n\n    const removeParent = (personId: string) => {\n        setParents(parents.filter(p => p !== personId));\n    };\n\n    const addChild = (personId: string) => {\n        if (personId && !children.includes(personId)) {\n            setChildren([...children, personId]);\n        }\n    };\n\n    const removeChild = (personId: string) => {\n        setChildren(children.filter(c => c !== personId));\n    };\n\n    const getPersonName = (id: string) => {\n        return individuals.find(i => i.id === id)?.name || id;\n    };\n\n    const availableParents = individuals.filter(i => !parents.includes(i.id));\n    const availableChildren = individuals.filter(i => !children.includes(i.id));\n\n    return (\n        <div className=\"relationship-editor\">\n            <h2>Edit Family</h2>\n            \n            <div style={{ marginBottom: '20px' }}>\n                <p style={{ fontSize: '12px', color: '#666' }}>Family ID: {family.id}</p>\n            </div>\n\n            {/* Parents Section */}\n            <div style={{ marginBottom: '24px' }}>\n                <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600 }}>\n                    Parents/Spouses:\n                </label>\n                <div style={{ background: '#f8f9fa', padding: '12px', borderRadius: '4px', marginBottom: '8px' }}>\n                    {parents.length === 0 ? (\n                        <p style={{ margin: 0, color: '#666', fontSize: '14px' }}>No parents/spouses</p>\n                    ) : (\n                        <div>\n                            {parents.map(pid => (\n                                <div key={pid} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '6px 0' }}>\n                                    <span>{getPersonName(pid)}</span>\n                                    <button \n                                        onClick={() => removeParent(pid)}\n                                        style={{ \n                                            background: '#dc3545', \n                                            color: 'white', \n                                            border: 'none', \n                                            padding: '4px 12px', \n                                            borderRadius: '4px',\n                                            cursor: 'pointer',\n                                            fontSize: '12px'\n                                        }}\n                                    >\n                                        Remove\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n                <select \n                    onChange={(e) => {\n                        addParent(e.target.value);\n                        e.target.value = '';\n                    }}\n                    style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ddd' }}\n                    defaultValue=\"\"\n                >\n                    <option value=\"\" disabled>Add parent/spouse...</option>\n                    {availableParents.map(person => (\n                        <option key={person.id} value={person.id}>\n                            {person.name} ({person.id})\n                        </option>\n                    ))}\n                </select>\n            </div>\n\n            {/* Marriage Date */}\n            <div style={{ marginBottom: '24px' }}>\n                <label style={{ display: 'block', marginBottom: '6px', fontWeight: 600 }}>\n                    Marriage Date:\n                </label>\n                <input\n                    type=\"date\"\n                    value={marriageDate}\n                    onChange={(e) => setMarriageDate(e.target.value)}\n                    style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ddd' }}\n                />\n            </div>\n\n            {/* Children Section */}\n            <div style={{ marginBottom: '24px' }}>\n                <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600 }}>\n                    Children:\n                </label>\n                <div style={{ background: '#f8f9fa', padding: '12px', borderRadius: '4px', marginBottom: '8px' }}>\n                    {children.length === 0 ? (\n                        <p style={{ margin: 0, color: '#666', fontSize: '14px' }}>No children</p>\n                    ) : (\n                        <div>\n                            {children.map(cid => (\n                                <div key={cid} style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '6px 0' }}>\n                                    <span>{getPersonName(cid)}</span>\n                                    <button \n                                        onClick={() => removeChild(cid)}\n                                        style={{ \n                                            background: '#dc3545', \n                                            color: 'white', \n                                            border: 'none', \n                                            padding: '4px 12px', \n                                            borderRadius: '4px',\n                                            cursor: 'pointer',\n                                            fontSize: '12px'\n                                        }}\n                                    >\n                                        Remove\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n                <select \n                    onChange={(e) => {\n                        addChild(e.target.value);\n                        e.target.value = '';\n                    }}\n                    style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ddd' }}\n                    defaultValue=\"\"\n                >\n                    <option value=\"\" disabled>Add child...</option>\n                    {availableChildren.map(person => (\n                        <option key={person.id} value={person.id}>\n                            {person.name} ({person.id})\n                        </option>\n                    ))}\n                </select>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"editor-actions\">\n                <button onClick={handleSave}>Save Changes</button>\n                <button onClick={onCancel}>Cancel</button>\n            </div>\n        </div>\n    );\n};\n\nexport default RelationshipEditor;"],"names":["RelationshipEditor","family","individuals","onSave","onCancel","parents","setParents","useState","children","setChildren","marriageDate","setMarriageDate","handleSave","addParent","personId","removeParent","p","addChild","removeChild","c","getPersonName","id","i","availableParents","availableChildren","jsxs","jsx","pid","person","cid"],"mappings":"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"}