import{r as l,j as t}from"./index-ClTz2wUm.js";const k=({family:n,individuals:r,onSave:p,onCancel:h})=>{const[i,o]=l.useState(n.parents||[]),[d,c]=l.useState(n.children||[]),[s,g]=l.useState(n.marriageDate?.iso||n.marriageDate?.original||""),u=()=>{p({...n,parents:i,children:d,marriageDate:s?{original:s,iso:s}:void 0})},m=e=>{e&&!i.includes(e)&&o([...i,e])},j=e=>{o(i.filter(a=>a!==e))},b=e=>{e&&!d.includes(e)&&c([...d,e])},v=e=>{c(d.filter(a=>a!==e))},x=e=>r.find(a=>a.id===e)?.name||e,f=r.filter(e=>!i.includes(e.id)),y=r.filter(e=>!d.includes(e.id));return t.jsxs("div",{className:"relationship-editor",children:[t.jsx("h2",{children:"Edit Family"}),t.jsx("div",{style:{marginBottom:"20px"},children:t.jsxs("p",{style:{fontSize:"12px",color:"#666"},children:["Family ID: ",n.id]})}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:600},children:"Parents/Spouses:"}),t.jsx("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"4px",marginBottom:"8px"},children:i.length===0?t.jsx("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:"No parents/spouses"}):t.jsx("div",{children:i.map(e=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0"},children:[t.jsx("span",{children:x(e)}),t.jsx("button",{onClick:()=>j(e),style:{background:"#dc3545",color:"white",border:"none",padding:"4px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]},e))})}),t.jsxs("select",{onChange:e=>{m(e.target.value),e.target.value=""},style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"},defaultValue:"",children:[t.jsx("option",{value:"",disabled:!0,children:"Add parent/spouse..."}),f.map(e=>t.jsxs("option",{value:e.id,children:[e.name," (",e.id,")"]},e.id))]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontWeight:600},children:"Marriage Date:"}),t.jsx("input",{type:"date",value:s,onChange:e=>g(e.target.value),style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"}})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:600},children:"Children:"}),t.jsx("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"4px",marginBottom:"8px"},children:d.length===0?t.jsx("p",{style:{margin:0,color:"#666",fontSize:"14px"},children:"No children"}):t.jsx("div",{children:d.map(e=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0"},children:[t.jsx("span",{children:x(e)}),t.jsx("button",{onClick:()=>v(e),style:{background:"#dc3545",color:"white",border:"none",padding:"4px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]},e))})}),t.jsxs("select",{onChange:e=>{b(e.target.value),e.target.value=""},style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ddd"},defaultValue:"",children:[t.jsx("option",{value:"",disabled:!0,children:"Add child..."}),y.map(e=>t.jsxs("option",{value:e.id,children:[e.name," (",e.id,")"]},e.id))]})]}),t.jsxs("div",{className:"editor-actions",children:[t.jsx("button",{onClick:u,children:"Save Changes"}),t.jsx("button",{onClick:h,children:"Cancel"})]})]})};export{k as default};
//# sourceMappingURL=RelationshipEditor-BRSnfw5i.js.map
